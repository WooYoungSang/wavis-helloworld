# HIPAA Compliance Extension
# Requirements for Health Insurance Portability and Accountability Act compliance

extension:
  id: "compliance-hipaa"
  name: "HIPAA Compliance Extension"
  version: "1.0.0"
  description: "HIPAA 규정 준수를 위한 요구사항 확장"
  category: "compliance"
  compatibility:
    mvp_phases: ["phase_2", "phase_3"]
    conflicts: []
    requires: []

functional_requirements:
  FR-HIPAA-001:
    id: "FR-HIPAA-001"
    title: "PHI Data Protection"
    description: "보호대상 건강정보(PHI) 보호"
    priority: "Critical"
    category: "HIPAA"
    acceptance_criteria:
      AC-1: "PHI 데이터 식별 및 분류"
      AC-2: "최소 필요 원칙 적용"
      AC-3: "PHI 접근 권한 관리"
      AC-4: "PHI 데이터 암호화"
    business_value: "HIPAA 규정 준수"
    dependencies: ["FR-003", "FR-005"]
    estimated_effort: "high"

  FR-HIPAA-002:
    id: "FR-HIPAA-002"
    title: "Audit Controls"
    description: "감사 제어 시스템"
    priority: "Critical"
    category: "HIPAA"
    acceptance_criteria:
      AC-1: "모든 PHI 접근 로그 기록"
      AC-2: "감사 로그 무결성 보장"
      AC-3: "감사 보고서 생성"
      AC-4: "로그 보관 정책 준수"
    business_value: "감사 추적성 확보"
    dependencies: ["FR-007", "FR-003"]
    estimated_effort: "medium"

  FR-HIPAA-003:
    id: "FR-HIPAA-003"
    title: "Data Integrity"
    description: "데이터 무결성 보장"
    priority: "Critical"
    category: "HIPAA"
    acceptance_criteria:
      AC-1: "PHI 데이터 변경 추적"
      AC-2: "무단 수정 방지"
      AC-3: "버전 관리 시스템"
      AC-4: "디지털 서명 지원"
    business_value: "데이터 신뢰성 보장"
    dependencies: ["FR-003", "FR-005"]
    estimated_effort: "medium"

  FR-HIPAA-004:
    id: "FR-HIPAA-004"
    title: "Access Control"
    description: "접근 제어 시스템"
    priority: "Critical"
    category: "HIPAA"
    acceptance_criteria:
      AC-1: "역할 기반 접근 제어 (RBAC)"
      AC-2: "최소 권한 원칙 적용"
      AC-3: "접근 권한 주기적 검토"
      AC-4: "비정상 접근 탐지"
    business_value: "무단 접근 방지"
    dependencies: ["FR-005", "FR-008"]
    estimated_effort: "high"

  FR-HIPAA-005:
    id: "FR-HIPAA-005"
    title: "Transmission Security"
    description: "전송 보안 관리"
    priority: "Critical"
    category: "HIPAA"
    acceptance_criteria:
      AC-1: "네트워크 전송 암호화"
      AC-2: "종단 간 암호화"
      AC-3: "전송 무결성 검증"
      AC-4: "안전한 통신 프로토콜"
    business_value: "전송 중 데이터 보호"
    dependencies: ["FR-002", "FR-005"]
    estimated_effort: "medium"

  FR-HIPAA-006:
    id: "FR-HIPAA-006"
    title: "Breach Notification"
    description: "데이터 유출 통지 시스템"
    priority: "High"
    category: "HIPAA"
    acceptance_criteria:
      AC-1: "유출 사고 자동 탐지"
      AC-2: "60일 내 당국 신고"
      AC-3: "환자 통지 프로세스"
      AC-4: "사고 대응 계획"
    business_value: "법적 의무 준수"
    dependencies: ["FR-008", "FR-002"]
    estimated_effort: "medium"

non_functional_requirements:
  NFR-HIPAA-001:
    id: "NFR-HIPAA-001"
    title: "HIPAA Security Rule"
    description: "HIPAA 보안 규정 준수"
    category: "Security"
    requirements:
      - "PHI 암호화 (AES-256 이상)"
      - "접근 제어 및 인증"
      - "감사 제어 시스템"
      - "데이터 무결성 보장"
      - "전송 보안 구현"
    measurement:
      - "HIPAA 보안 평가 통과"
      - "PHI 유출 사고 0건"
    priority: "Critical"
    extends: "NFR-003"

  NFR-HIPAA-002:
    id: "NFR-HIPAA-002"
    title: "HIPAA Privacy Rule"
    description: "HIPAA 개인정보보호 규정 준수"
    category: "Privacy"
    requirements:
      - "PHI 사용 제한"
      - "환자 권리 보장"
      - "최소 필요 원칙"
      - "승인된 용도로만 사용"
    measurement:
      - "개인정보보호 감사 통과"
      - "환자 권리 요청 처리율 100%"
    priority: "Critical"

  NFR-HIPAA-003:
    id: "NFR-HIPAA-003"
    title: "Business Associate Agreement"
    description: "사업 협력업체 계약 준수"
    category: "Compliance"
    requirements:
      - "BAA 계약 체결"
      - "하위 계약자 관리"
      - "책임 분담 명시"
      - "감사 권한 보장"
    measurement:
      - "모든 업체와 BAA 체결"
      - "연간 컴플라이언스 검토"
    priority: "High"

units_of_work:
  UoW-HIPAA-901:
    id: "UoW-HIPAA-901"
    title: "PHI Protection System"
    description: "PHI 보호 시스템 구현"
    category: "HIPAA"
    priority: "Critical"
    estimated_effort: "high"
    dependencies: ["UoW-104", "UoW-105"]
    related_frs: ["FR-HIPAA-001"]
    related_nfrs: ["NFR-HIPAA-001", "NFR-HIPAA-002"]
    acceptance_criteria:
      AC-1: "PHI 데이터 분류 시스템"
      AC-2: "암호화 스토리지"
      AC-3: "접근 권한 매트릭스"
      AC-4: "데이터 마스킹 기능"

  UoW-HIPAA-902:
    id: "UoW-HIPAA-902"
    title: "HIPAA Audit System"
    description: "HIPAA 감사 시스템 구현"
    category: "HIPAA"
    priority: "Critical"
    estimated_effort: "medium"
    dependencies: ["UoW-107", "UoW-101"]
    related_frs: ["FR-HIPAA-002"]
    related_nfrs: ["NFR-HIPAA-001"]
    acceptance_criteria:
      AC-1: "포괄적 로깅 시스템"
      AC-2: "감사 보고서 생성"
      AC-3: "로그 무결성 검증"
      AC-4: "장기 보관 시스템"

  UoW-HIPAA-903:
    id: "UoW-HIPAA-903"
    title: "Data Integrity Module"
    description: "데이터 무결성 모듈 구현"
    category: "HIPAA"
    priority: "Critical"
    estimated_effort: "medium"
    dependencies: ["UoW-101", "UoW-104"]
    related_frs: ["FR-HIPAA-003"]
    related_nfrs: ["NFR-HIPAA-001"]
    acceptance_criteria:
      AC-1: "변경 추적 시스템"
      AC-2: "디지털 서명 구현"
      AC-3: "버전 관리 시스템"
      AC-4: "무결성 검증 도구"

  UoW-HIPAA-904:
    id: "UoW-HIPAA-904"
    title: "HIPAA Access Control"
    description: "HIPAA 접근 제어 시스템"
    category: "HIPAA"
    priority: "Critical"
    estimated_effort: "high"
    dependencies: ["UoW-104", "UoW-107"]
    related_frs: ["FR-HIPAA-004"]
    related_nfrs: ["NFR-HIPAA-001"]
    acceptance_criteria:
      AC-1: "RBAC 시스템 구현"
      AC-2: "접근 권한 관리 도구"
      AC-3: "이상 행위 탐지"
      AC-4: "권한 검토 자동화"

  UoW-HIPAA-905:
    id: "UoW-HIPAA-905"
    title: "Transmission Security"
    description: "전송 보안 시스템 구현"
    category: "HIPAA"
    priority: "Critical"
    estimated_effort: "medium"
    dependencies: ["UoW-103", "UoW-105"]
    related_frs: ["FR-HIPAA-005"]
    related_nfrs: ["NFR-HIPAA-001"]
    acceptance_criteria:
      AC-1: "TLS/SSL 구현"
      AC-2: "종단간 암호화"
      AC-3: "무결성 검증"
      AC-4: "안전한 API 엔드포인트"

  UoW-HIPAA-906:
    id: "UoW-HIPAA-906"
    title: "Breach Response System"
    description: "데이터 유출 대응 시스템"
    category: "HIPAA"
    priority: "High"
    estimated_effort: "medium"
    dependencies: ["UoW-107", "UoW-103"]
    related_frs: ["FR-HIPAA-006"]
    related_nfrs: ["NFR-HIPAA-001"]
    acceptance_criteria:
      AC-1: "유출 탐지 시스템"
      AC-2: "자동 통지 시스템"
      AC-3: "사고 대응 워크플로"
      AC-4: "복구 계획 실행"

integration:
  framework_requirements:
    extends:
      - "FR-003"  # Data Persistence - PHI 데이터 저장
      - "FR-005"  # Authentication - 의료진 인증
      - "FR-007"  # Analytics - 감사 로그 분석
      - "FR-008"  # Monitoring - 보안 모니터링
    modifies:
      - "NFR-003": "HIPAA 보안 요구사항 추가"