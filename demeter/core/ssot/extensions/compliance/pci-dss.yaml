# PCI DSS Compliance Extension
# Requirements for Payment Card Industry Data Security Standard compliance

extension:
  id: "compliance-pci-dss"
  name: "PCI DSS Compliance Extension"
  version: "1.0.0"
  description: "PCI DSS 규정 준수를 위한 요구사항 확장"
  category: "compliance"
  compatibility:
    mvp_phases: ["phase_2", "phase_3"]
    conflicts: []
    requires: []

functional_requirements:
  FR-PCI-001:
    id: "FR-PCI-001"
    title: "Cardholder Data Protection"
    description: "카드소지자 데이터 보호"
    priority: "Critical"
    category: "PCI-DSS"
    acceptance_criteria:
      AC-1: "PAN (Primary Account Number) 보호"
      AC-2: "민감한 인증 데이터 비저장"
      AC-3: "카드 데이터 암호화"
      AC-4: "데이터 보관 정책 준수"
    business_value: "결제 보안 준수"
    dependencies: ["FR-003", "FR-005"]
    estimated_effort: "high"

  FR-PCI-002:
    id: "FR-PCI-002"
    title: "Secure Network Architecture"
    description: "보안 네트워크 아키텍처"
    priority: "Critical"
    category: "PCI-DSS"
    acceptance_criteria:
      AC-1: "방화벽 및 라우터 구성"
      AC-2: "CDE (Cardholder Data Environment) 분리"
      AC-3: "네트워크 접근 제어"
      AC-4: "정기적 보안 스캔"
    business_value: "네트워크 보안 강화"
    dependencies: ["FR-002", "FR-008"]
    estimated_effort: "high"

  FR-PCI-003:
    id: "FR-PCI-003"
    title: "Vulnerability Management"
    description: "취약점 관리 시스템"
    priority: "High"
    category: "PCI-DSS"
    acceptance_criteria:
      AC-1: "정기적 취약점 스캔"
      AC-2: "보안 패치 관리"
      AC-3: "안티바이러스 솔루션"
      AC-4: "보안 개발 생명주기"
    business_value: "시스템 취약점 제거"
    dependencies: ["FR-001", "FR-008"]
    estimated_effort: "medium"

  FR-PCI-004:
    id: "FR-PCI-004"
    title: "Strong Access Control"
    description: "강력한 접근 제어"
    priority: "Critical"
    category: "PCI-DSS"
    acceptance_criteria:
      AC-1: "고유한 사용자 ID 할당"
      AC-2: "다중 인증 (MFA) 구현"
      AC-3: "물리적 접근 제어"
      AC-4: "접근 권한 정기 검토"
    business_value: "무단 접근 방지"
    dependencies: ["FR-005", "FR-008"]
    estimated_effort: "high"

  FR-PCI-005:
    id: "FR-PCI-005"
    title: "Network Activity Monitoring"
    description: "네트워크 활동 모니터링"
    priority: "High"
    category: "PCI-DSS"
    acceptance_criteria:
      AC-1: "모든 네트워크 접근 추적"
      AC-2: "로그 중앙 집중화"
      AC-3: "실시간 보안 모니터링"
      AC-4: "사고 대응 프로세스"
    business_value: "보안 사고 조기 탐지"
    dependencies: ["FR-007", "FR-008"]
    estimated_effort: "medium"

  FR-PCI-006:
    id: "FR-PCI-006"
    title: "Information Security Policy"
    description: "정보 보안 정책 관리"
    priority: "High"
    category: "PCI-DSS"
    acceptance_criteria:
      AC-1: "보안 정책 문서화"
      AC-2: "직원 보안 교육"
      AC-3: "정책 준수 모니터링"
      AC-4: "정기적 정책 검토"
    business_value: "조직적 보안 관리"
    dependencies: ["FR-001", "FR-008"]
    estimated_effort: "medium"

non_functional_requirements:
  NFR-PCI-001:
    id: "NFR-PCI-001"
    title: "PCI DSS Security Standards"
    description: "PCI DSS 보안 표준 준수"
    category: "Security"
    requirements:
      - "카드 데이터 암호화 (AES-256)"
      - "키 관리 시스템 (HSM)"
      - "강력한 암호 정책"
      - "보안 키 순환"
    measurement:
      - "PCI DSS SAQ 준수율 100%"
      - "연간 보안 평가 통과"
    priority: "Critical"
    extends: "NFR-003"

  NFR-PCI-002:
    id: "NFR-PCI-002"
    title: "PCI DSS Network Security"
    description: "PCI DSS 네트워크 보안 요구사항"
    category: "Security"
    requirements:
      - "CDE 네트워크 분리"
      - "방화벽 규칙 최소화"
      - "침입 탐지 시스템 (IDS)"
      - "정기적 침투 테스트"
    measurement:
      - "네트워크 보안 스캔 통과"
      - "침투 테스트 통과"
    priority: "Critical"
    extends: "NFR-003"

  NFR-PCI-003:
    id: "NFR-PCI-003"
    title: "PCI DSS Audit Requirements"
    description: "PCI DSS 감사 요구사항"
    category: "Compliance"
    requirements:
      - "QSA 감사 준비"
      - "증거 자료 수집"
      - "ROC (Report on Compliance) 작성"
      - "연간 재평가"
    measurement:
      - "PCI DSS 인증 유지"
      - "감사 지적 사항 0건"
    priority: "High"

units_of_work:
  UoW-PCI-1001:
    id: "UoW-PCI-1001"
    title: "Card Data Protection System"
    description: "카드 데이터 보호 시스템 구현"
    category: "PCI-DSS"
    priority: "Critical"
    estimated_effort: "high"
    dependencies: ["UoW-104", "UoW-105"]
    related_frs: ["FR-PCI-001"]
    related_nfrs: ["NFR-PCI-001"]
    acceptance_criteria:
      AC-1: "PAN 토큰화 시스템"
      AC-2: "카드 데이터 암호화"
      AC-3: "키 관리 시스템"
      AC-4: "데이터 보관 정책 구현"

  UoW-PCI-1002:
    id: "UoW-PCI-1002"
    title: "PCI Network Security"
    description: "PCI 네트워크 보안 구현"
    category: "PCI-DSS"
    priority: "Critical"
    estimated_effort: "high"
    dependencies: ["UoW-103", "UoW-107"]
    related_frs: ["FR-PCI-002"]
    related_nfrs: ["NFR-PCI-002"]
    acceptance_criteria:
      AC-1: "방화벽 규칙 구성"
      AC-2: "CDE 네트워크 분리"
      AC-3: "침입 탐지 시스템"
      AC-4: "네트워크 모니터링"

  UoW-PCI-1003:
    id: "UoW-PCI-1003"
    title: "Vulnerability Management"
    description: "취약점 관리 시스템 구현"
    category: "PCI-DSS"
    priority: "High"
    estimated_effort: "medium"
    dependencies: ["UoW-001D", "UoW-107"]
    related_frs: ["FR-PCI-003"]
    related_nfrs: ["NFR-PCI-001"]
    acceptance_criteria:
      AC-1: "취약점 스캔 자동화"
      AC-2: "패치 관리 시스템"
      AC-3: "보안 개발 도구"
      AC-4: "안티바이러스 통합"

  UoW-PCI-1004:
    id: "UoW-PCI-1004"
    title: "PCI Access Control System"
    description: "PCI 접근 제어 시스템 구현"
    category: "PCI-DSS"
    priority: "Critical"
    estimated_effort: "high"
    dependencies: ["UoW-104", "UoW-107"]
    related_frs: ["FR-PCI-004"]
    related_nfrs: ["NFR-PCI-001"]
    acceptance_criteria:
      AC-1: "고유 사용자 ID 시스템"
      AC-2: "MFA 인증 구현"
      AC-3: "역할 기반 권한"
      AC-4: "접근 권한 관리 도구"

  UoW-PCI-1005:
    id: "UoW-PCI-1005"
    title: "PCI Monitoring System"
    description: "PCI 모니터링 시스템 구현"
    category: "PCI-DSS"
    priority: "High"
    estimated_effort: "medium"
    dependencies: ["UoW-107", "UoW-101"]
    related_frs: ["FR-PCI-005"]
    related_nfrs: ["NFR-PCI-002"]
    acceptance_criteria:
      AC-1: "로그 중앙 집중화"
      AC-2: "실시간 알림 시스템"
      AC-3: "보안 사고 대응"
      AC-4: "감사 보고서 생성"

  UoW-PCI-1006:
    id: "UoW-PCI-1006"
    title: "PCI Policy Management"
    description: "PCI 정책 관리 시스템"
    category: "PCI-DSS"
    priority: "High"
    estimated_effort: "medium"
    dependencies: ["UoW-000", "UoW-107"]
    related_frs: ["FR-PCI-006"]
    related_nfrs: ["NFR-PCI-003"]
    acceptance_criteria:
      AC-1: "정책 문서 관리"
      AC-2: "교육 관리 시스템"
      AC-3: "준수 모니터링"
      AC-4: "정책 업데이트 추적"

integration:
  framework_requirements:
    extends:
      - "FR-003"  # Data Persistence - 카드 데이터 저장
      - "FR-005"  # Authentication - 강력한 인증
      - "FR-007"  # Analytics - 보안 로그 분석
      - "FR-008"  # Monitoring - 실시간 모니터링
    modifies:
      - "NFR-003": "PCI DSS 보안 요구사항 추가"